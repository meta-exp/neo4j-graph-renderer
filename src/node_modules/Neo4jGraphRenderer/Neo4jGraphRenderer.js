import React, { Component } from 'react';
import { createGraph } from './assets/graph';
import './Neo4jGraphRenderer.css';

class Neo4JGraphRenderer extends Component {
  componentDidMount() {
    this.loadData(this.props);
  }

  componentWillReceiveProps(newProps) {
    this.loadData(newProps);
  }

  loadData(props) {
    const connection = { url: props.url, user: props.user, pass: props.password };
    createGraph(connection, props.query, props.onClickHandler);
  }



  render () {
    return <div id="graph"/>;
  }
}

Neo4JGraphRenderer.defaultProps =  {
    onClickHandler:()=>{}
};
export default Neo4JGraphRenderer;
